<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="/static/css/unified-styles.css" rel="stylesheet">

    <style>
        .registration-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: var(--spacing-xl);
            border-radius: var(--radius-lg);
            margin-bottom: var(--spacing-lg);
            text-align: center;
        }

        .registration-icon {
            font-size: 64px;
            margin-bottom: var(--spacing-md);
        }

        .benefits-list {
            background: var(--tg-theme-secondary-bg-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
        }

        .benefit-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
            font-size: var(--font-size-sm);
        }

        .benefit-icon {
            width: 24px;
            text-align: center;
            font-size: var(--font-size-md);
        }

        .form-progress {
            background: var(--tg-theme-secondary-bg-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
        }

        .progress-bar {
            height: 4px;
            background: var(--tg-theme-hint-color);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--tg-theme-button-color);
            width: 0%;
            transition: width var(--transition-normal);
        }

        .progress-text {
            text-align: center;
            font-size: var(--font-size-xs);
            color: var(--tg-theme-hint-color);
            margin-top: var(--spacing-xs);
        }

        .volunteer-types {
            display: grid;
            gap: var(--spacing-sm);
            margin: var(--spacing-md) 0;
        }

        .type-option {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            padding: var(--spacing-md);
            border: 2px solid var(--tg-theme-hint-color);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .type-option:hover {
            border-color: var(--tg-theme-button-color);
            background: rgba(38, 120, 182, 0.05);
        }

        .type-option.selected {
            border-color: var(--tg-theme-button-color);
            background: rgba(38, 120, 182, 0.1);
        }

        .type-icon {
            font-size: var(--font-size-xl);
            width: 40px;
            text-align: center;
        }

        .type-content {
            flex: 1;
        }

        .type-title {
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
        }

        .type-description {
            font-size: var(--font-size-sm);
            color: var(--tg-theme-hint-color);
        }

        .registration-footer {
            background: var(--tg-theme-secondary-bg-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-md);
            margin-top: var(--spacing-lg);
            text-align: center;
            font-size: var(--font-size-sm);
            color: var(--tg-theme-hint-color);
        }
    </style>
</head>
<body>
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div class="registration-header">
        <div class="registration-icon">üë•</div>
        <h1>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞</h1>
        <p>–ù–∞—Ö–æ–¥–∏—Ç–µ –æ–ø–ª–∞—á–∏–≤–∞–µ–º—É—é –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫—É—é —Ä–∞–±–æ—Ç—É</p>
    </div>

    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è -->
    <div class="form-progress">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É: 0%</div>
    </div>

    <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
    <div class="card">
        <div class="card-header">
            <h2>üéØ –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ</h2>
        </div>
        <div class="card-body">
            <div class="benefits-list">
                <div class="benefit-item">
                    <div class="benefit-icon">üí∞</div>
                    <div>–°—Ç–∞–±–∏–ª—å–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –æ—Ç –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üìÖ</div>
                    <div>–ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã, –≤—ã–±–∏—Ä–∞–π—Ç–µ —É–¥–æ–±–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">ü§ù</div>
                    <div>–ù–æ–≤—ã–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">‚≠ê</div>
                    <div>–°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª—É—á—à–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üìú</div>
                    <div>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <form id="registrationForm" class="card">
        <div class="card-header">
            <h2>üìù –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
        </div>
        <div class="card-body">
            <div class="form-group">
                <label class="form-label required">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
                <input type="text" class="form-input" id="fullName" required
                       placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?">
                <div class="form-help">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è –¥–ª—è –¥–æ–≤–µ—Ä–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤</div>
            </div>

            <div class="form-group">
                <label class="form-label">–ì–æ—Ä–æ–¥</label>
                <input type="text" class="form-input" id="city"
                       placeholder="–í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ –∏—â–µ—Ç–µ —Ä–∞–±–æ—Ç—É?" list="cityList">
                <datalist id="cityList">
                    <option value="–ú–æ—Å–∫–≤–∞">
                    <option value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">
                    <option value="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">
                    <option value="–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥">
                    <option value="–ö–∞–∑–∞–Ω—å">
                    <option value="–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥">
                    <option value="–ß–µ–ª—è–±–∏–Ω—Å–∫">
                    <option value="–û–º—Å–∫">
                    <option value="–°–∞–º–∞—Ä–∞">
                    <option value="–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É">
                </datalist>
            </div>

            <div class="form-group">
                <label class="form-label required">–¢–∏–ø –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞</label>
                <div class="volunteer-types">
                    <div class="type-option" data-type="—Å—Ç—É–¥–µ–Ω—Ç">
                        <div class="type-icon">üéì</div>
                        <div class="type-content">
                            <div class="type-title">–°—Ç—É–¥–µ–Ω—Ç</div>
                            <div class="type-description">–ü–æ–ª—É—á–∞—é –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∏—â—É –ø–æ–¥—Ä–∞–±–æ—Ç–∫—É –∏ –æ–ø—ã—Ç</div>
                        </div>
                    </div>
                    <div class="type-option" data-type="—Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä">
                        <div class="type-icon">üíª</div>
                        <div class="type-content">
                            <div class="type-title">–§—Ä–∏–ª–∞–Ω—Å–µ—Ä</div>
                            <div class="type-description">–†–∞–±–æ—Ç–∞—é —É–¥–∞–ª–µ–Ω–Ω–æ, –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–æ–≤—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º</div>
                        </div>
                    </div>
                    <div class="type-option" data-type="–ø—Ä–æ—Ñ–∏">
                        <div class="type-icon">‚≠ê</div>
                        <div class="type-content">
                            <div class="type-title">–ü—Ä–æ—Ñ–∏</div>
                            <div class="type-description">–ë–æ–ª—å—à–æ–π –æ–ø—ã—Ç, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á</div>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="volunteerType" required>
            </div>

            <div class="form-group">
                <label class="form-label">–ù–∞–≤—ã–∫–∏ –∏ –æ–ø—ã—Ç</label>
                <textarea class="form-input" id="skills" rows="4" maxlength="500"
                          placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–∏—Ö –Ω–∞–≤—ã–∫–∞—Ö, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –∏ –æ–ø—ã—Ç–µ —Ä–∞–±–æ—Ç—ã:
‚Ä¢ –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚Ä¢ –Ø–∑—ã–∫–∏, –∫–æ—Ç–æ—Ä—ã–º–∏ –≤–ª–∞–¥–µ–µ—Ç–µ
‚Ä¢ –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –ª—é–¥—å–º–∏
‚Ä¢ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏
‚Ä¢ –•–æ–±–±–∏ –∏ —É–≤–ª–µ—á–µ–Ω–∏—è"></textarea>
                <div class="char-counter" id="skillsCounter">0/500</div>
                <div class="form-help">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</div>
            </div>

            <div class="form-group">
                <label class="form-label">–†–µ–∑—é–º–µ –∏–ª–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</label>
                <textarea class="form-input" id="resume" rows="3" maxlength="300"
                          placeholder="–°—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ–∑—é–º–µ, –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏–ª–∏ —Å–æ—Ü—Å–µ—Ç–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
                <div class="char-counter" id="resumeCounter">0/300</div>
            </div>
        </div>

        <div class="card-footer">
            <button type="submit" class="btn btn-primary btn-full">
                üöÄ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞
            </button>
        </div>
    </form>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
    <div class="registration-footer">
        <h4 style="margin: 0 0 var(--spacing-sm) 0; color: var(--tg-theme-text-color);">üîí –í–∞—à–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h4>
        <p style="margin: 0;">–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã. –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º.</p>
    </div>

    <script src="/static/js/form-validator.js"></script>
    <script>
        class VolunteerRegistration {
            constructor() {
                this.formData = {};
                this.selectedType = null;
            }

            async init() {
                console.log('üë• Initializing volunteer registration...');

                await this.waitForApp();

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
                const alreadyRegistered = await this.checkExistingRegistration();
                if (alreadyRegistered) return;

                this.setupEventListeners();
                this.setupCharCounters();
                this.loadUserData();
                this.updateProgress();
            }

            async waitForApp() {
                return new Promise(resolve => {
                    if (window.app?.isReady) {
                        resolve();
                    } else {
                        window.addEventListener('app:ready', resolve);
                    }
                });
            }

            async checkExistingRegistration() {
                try {
                    const userData = await window.app.apiRequest('/api/auth/my-profile');
                    if (userData.registered) {
                        if (userData.user.role === 'volunteer') {
                            window.location.href = '/volunteer/profile';
                        } else {
                            window.location.href = '/';
                        }
                        return true;
                    }
                    return false;
                } catch (error) {
                    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
                    return false;
                }
            }

            setupEventListeners() {
                // –í—ã–±–æ—Ä —Ç–∏–ø–∞ –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞
                document.querySelectorAll('.type-option').forEach(option => {
                    option.addEventListener('click', () => {
                        this.selectVolunteerType(option);
                    });
                });

                // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
                document.getElementById('registrationForm').addEventListener('submit', (e) => {
                    this.handleSubmit(e);
                });

                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–ª–µ–π
                ['fullName', 'city', 'skills'].forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    if (field) {
                        field.addEventListener('input', () => this.updateProgress());
                    }
                });

                // –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ Telegram
                if (window.app?.tg?.MainButton) {
                    window.app.tg.MainButton.setText('üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é');
                    window.app.tg.MainButton.show();
                    window.app.tg.MainButton.onClick(() => {
                        window.location.href = '/';
                    });
                }
            }

            setupCharCounters() {
                const counters = [
                    { fieldId: 'skills', counterId: 'skillsCounter', maxLength: 500 },
                    { fieldId: 'resume', counterId: 'resumeCounter', maxLength: 300 }
                ];

                counters.forEach(({ fieldId, counterId, maxLength }) => {
                    const field = document.getElementById(fieldId);
                    const counter = document.getElementById(counterId);

                    if (field && counter) {
                        field.addEventListener('input', () => {
                            const currentLength = field.value.length;
                            counter.textContent = `${currentLength}/${maxLength}`;

                            counter.className = 'char-counter';
                            if (currentLength > maxLength * 0.9) {
                                counter.classList.add('error');
                            } else if (currentLength > maxLength * 0.7) {
                                counter.classList.add('warning');
                            }
                        });
                    }
                });
            }

            loadUserData() {
                if (window.app?.currentUser) {
                    const user = window.app.currentUser;
                    const fullNameField = document.getElementById('fullName');

                    if (fullNameField && user.first_name) {
                        const fullName = `${user.first_name} ${user.last_name || ''}`.trim();
                        fullNameField.value = fullName;
                        this.updateProgress();
                    }
                }
            }

            selectVolunteerType(option) {
                // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏—Ö –æ–ø—Ü–∏–π
                document.querySelectorAll('.type-option').forEach(opt => {
                    opt.classList.remove('selected');
                });

                // –í—ã–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â—É—é –æ–ø—Ü–∏—é
                option.classList.add('selected');

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä
                this.selectedType = option.dataset.type;
                document.getElementById('volunteerType').value = this.selectedType;

                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                this.updateProgress();

                // –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
                if (window.app?.tg?.HapticFeedback) {
                    window.app.tg.HapticFeedback.selectionChanged();
                }
            }

            updateProgress() {
                const fields = [
                    { id: 'fullName', weight: 30 },
                    { id: 'city', weight: 20 },
                    { id: 'volunteerType', weight: 30 },
                    { id: 'skills', weight: 20 }
                ];

                let totalProgress = 0;

                fields.forEach(field => {
                    const element = document.getElementById(field.id);
                    if (element && element.value.trim()) {
                        totalProgress += field.weight;
                    }
                });

                // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                const progressFill = document.getElementById('progressFill');
                const progressText = document.getElementById('progressText');

                if (progressFill) {
                    progressFill.style.width = `${totalProgress}%`;
                }

                if (progressText) {
                    progressText.textContent = `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É: ${totalProgress}%`;
                }
            }

            async handleSubmit(e) {
                e.preventDefault();

                const submitBtn = e.target.querySelector('button[type="submit"]');
                const originalText = submitBtn.textContent;

                try {
                    submitBtn.disabled = true;
                    submitBtn.textContent = '‚è≥ –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å...';

                    // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
                    const formData = {
                        full_name: document.getElementById('fullName').value.trim(),
                        city: document.getElementById('city').value.trim(),
                        volunteer_type: this.selectedType,
                        skills: document.getElementById('skills').value.trim(),
                        resume: document.getElementById('resume').value.trim()
                    };

                    // –í–∞–ª–∏–¥–∞—Ü–∏—è
                    const validation = this.validateForm(formData);
                    if (!validation.isValid) {
                        window.app.showError(validation.errors.join('\n'));
                        return;
                    }

                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
                    const response = await window.app.apiRequest('/api/volunteers/register', {
                        method: 'POST',
                        body: JSON.stringify(formData)
                    });

                    console.log('‚úÖ Registration successful:', response);

                    window.app.showSuccess('–ü—Ä–æ—Ñ–∏–ª—å –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞ —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!');

                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å
                    setTimeout(() => {
                        window.location.href = '/volunteer/profile';
                    }, 1500);

                } catch (error) {
                    console.error('‚ùå Registration failed:', error);
                    window.app.showError('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: ' + error.message);
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                }
            }

            validateForm(formData) {
                const errors = [];

                if (!formData.full_name) {
                    errors.push('–£–∫–∞–∂–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è');
                }

                if (!formData.volunteer_type) {
                    errors.push('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞');
                }

                if (formData.full_name && formData.full_name.length < 2) {
                    errors.push('–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞');
                }

                if (formData.skills && formData.skills.length > 500) {
                    errors.push('–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ');
                }

                return {
                    isValid: errors.length === 0,
                    errors
                };
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        const registration = new VolunteerRegistration();
        document.addEventListener('DOMContentLoaded', () => {
            registration.init();
        });
    </script>
</body>
</html>