<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–∫–∫–∞—É–Ω—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="/static/css/unified-styles.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: var(--spacing-lg);
        }

        .deactivated-container {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--spacing-xxl);
            text-align: center;
            box-shadow: var(--shadow-lg);
            max-width: 500px;
            width: 100%;
        }

        .deactivated-icon {
            font-size: 96px;
            margin-bottom: var(--spacing-lg);
            opacity: 0.8;
        }

        .deactivated-title {
            font-size: var(--font-size-xxl);
            font-weight: 700;
            color: var(--color-danger);
            margin-bottom: var(--spacing-md);
        }

        .deactivated-subtitle {
            font-size: var(--font-size-lg);
            font-weight: 600;
            margin-bottom: var(--spacing-lg);
            color: var(--color-dark);
        }

        .deactivated-description {
            color: var(--tg-theme-hint-color);
            margin-bottom: var(--spacing-xl);
            line-height: 1.6;
        }

        .contact-info {
            background: var(--color-light);
            border: 1px solid var(--tg-theme-hint-color);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
        }

        .contact-title {
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
            color: var(--color-dark);
        }

        .contact-method {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
            padding: var(--spacing-sm);
            background: white;
            border-radius: var(--radius-sm);
        }

        .contact-icon {
            font-size: var(--font-size-lg);
        }

        .contact-text {
            flex: 1;
            text-align: left;
        }

        .contact-link {
            color: var(--tg-theme-button-color);
            text-decoration: none;
            font-weight: 500;
        }

        .contact-link:hover {
            text-decoration: underline;
        }

        .help-section {
            background: #e7f3ff;
            border: 1px solid #b3d7ff;
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }

        .help-title {
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
            color: #0c5460;
        }

        .help-list {
            text-align: left;
            margin: 0;
            padding-left: var(--spacing-lg);
            color: #0c5460;
            font-size: var(--font-size-sm);
        }

        .help-list li {
            margin-bottom: var(--spacing-xs);
        }

        .back-button {
            margin-top: var(--spacing-xl);
        }

        .btn-back {
            background: var(--color-dark);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            padding: var(--spacing-md) var(--spacing-xl);
            font-size: var(--font-size-base);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .btn-back:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        @media (max-width: 480px) {
            .deactivated-container {
                padding: var(--spacing-lg);
                margin: var(--spacing-sm);
            }

            .deactivated-icon {
                font-size: 64px;
            }

            .deactivated-title {
                font-size: var(--font-size-xl);
            }

            .contact-method {
                flex-direction: column;
                text-align: center;
                gap: var(--spacing-xs);
            }

            .contact-text {
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="deactivated-container">
        <div class="deactivated-icon">üö´</div>
        <h1 class="deactivated-title">–ê–∫–∫–∞—É–Ω—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω</h1>
        <h2 class="deactivated-subtitle">–î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω</h2>
        
        <p class="deactivated-description">
            –í–∞—à –∞–∫–∫–∞—É–Ω—Ç –±—ã–ª –≤—Ä–µ–º–µ–Ω–Ω–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Å–∏—Å—Ç–µ–º—ã. 
            –≠—Ç–æ –º–æ–≥–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è 
            –∏–ª–∏ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è.
        </p>

        <div class="contact-info">
            <div class="contact-title">üìû –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å:</div>
            
            <div class="contact-method">
                <span class="contact-icon">üìß</span>
                <div class="contact-text">
                    <strong>Email –ø–æ–¥–¥–µ—Ä–∂–∫–∏:</strong><br>
                    <a href="mailto:support@volunteer-system.ru" class="contact-link">
                        support@volunteer-system.ru
                    </a>
                </div>
            </div>

            <div class="contact-method">
                <span class="contact-icon">üí¨</span>
                <div class="contact-text">
                    <strong>Telegram –ø–æ–¥–¥–µ—Ä–∂–∫–∞:</strong><br>
                    <a href="https://t.me/volunteer_support_bot" class="contact-link">
                        @volunteer_support_bot
                    </a>
                </div>
            </div>

            <div class="contact-method">
                <span class="contact-icon">üì±</span>
                <div class="contact-text">
                    <strong>–¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∏:</strong><br>
                    <a href="tel:+78001234567" class="contact-link">
                        +7 (800) 123-45-67
                    </a>
                </div>
            </div>

            <div class="contact-method">
                <span class="contact-icon">üïê</span>
                <div class="contact-text">
                    <strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong><br>
                    –ü–Ω-–ü—Ç: 9:00-18:00 (–ú–°–ö)
                </div>
            </div>
        </div>

        <div class="help-section">
            <div class="help-title">üí° –ß—Ç–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏:</div>
            <ul class="help-list">
                <li>–í–∞—à Telegram ID: <strong id="userId">–ó–∞–≥—Ä—É–∑–∫–∞...</strong></li>
                <li>–ü–æ–ª–Ω–æ–µ –∏–º—è –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è</li>
                <li>–ü—Ä–∏—á–∏–Ω—É –æ–±—Ä–∞—â–µ–Ω–∏—è (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞)</li>
                <li>–î–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã</li>
                <li>–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–µ—Ä–µ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π</li>
            </ul>
        </div>

        <div class="back-button">
            <button class="btn-back" onclick="goBack()">
                üè† –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            </button>
        </div>
    </div>

    <script>
        let tg = window.Telegram?.WebApp;
        let currentUser = null;

        function init() {
            console.log('üö´ User deactivated page loaded');

            if (tg) {
                tg.ready();
                tg.expand();
                currentUser = tg.initDataUnsafe?.user;

                // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                tg.MainButton.setText('üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π');
                tg.MainButton.show();
                tg.MainButton.onClick(contactSupport);

                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                if (currentUser) {
                    document.getElementById('userId').textContent = currentUser.id;
                }

                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–º—É Telegram
                applyTelegramTheme();
            } else {
                document.getElementById('userId').textContent = '–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
            }
        }

        function applyTelegramTheme() {
            if (!tg?.themeParams) return;

            const theme = tg.themeParams;
            const root = document.documentElement;

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ü–≤–µ—Ç–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –¥–∏–∑–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            if (theme.button_color) {
                root.style.setProperty('--tg-theme-button-color', theme.button_color);
            }
            if (theme.text_color) {
                root.style.setProperty('--tg-theme-text-color', theme.text_color);
            }
        }

        function contactSupport() {
            const supportUrl = 'https://t.me/volunteer_support_bot';
            
            if (tg && tg.openTelegramLink) {
                tg.openTelegramLink(supportUrl);
            } else if (tg && tg.openLink) {
                tg.openLink(supportUrl);
            } else {
                window.open(supportUrl, '_blank');
            }
        }

        function goBack() {
            if (tg && tg.close) {
                tg.close();
            } else {
                // Fallback –¥–ª—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏
                window.history.back();
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ID –≤ –±—É—Ñ–µ—Ä –ø—Ä–∏ –∫–ª–∏–∫–µ
        document.getElementById('userId').addEventListener('click', function() {
            const userId = this.textContent;
            if (userId && userId !== '–ó–∞–≥—Ä—É–∑–∫–∞...' && userId !== '–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω') {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(userId).then(() => {
                        if (tg && tg.showAlert) {
                            tg.showAlert('‚úÖ ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                        } else {
                            alert('‚úÖ ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                        }
                    }).catch(() => {
                        // Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
                        fallbackCopyTextToClipboard(userId);
                    });
                } else {
                    fallbackCopyTextToClipboard(userId);
                }
            }
        });

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                document.execCommand('copy');
                if (tg && tg.showAlert) {
                    tg.showAlert('‚úÖ ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                } else {
                    alert('‚úÖ ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                }
            } catch (err) {
                console.error('Fallback: Copying text command was unsuccessful', err);
            }
            document.body.removeChild(textArea);
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>